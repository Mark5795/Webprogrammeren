@*@model Whatsup.Models.ContactChatViewModel*@
@model IEnumerable<Whatsup.Models.ContactViewModel>

@{

    ViewBag.Title = "Chats";
}

@if (User.Identity.IsAuthenticated)
{
<section id="Contact">
    <div class="btn btn-default">
        @Html.ActionLink("New Chat", "ChatContact", "Chat")
    </div>
    <p></p>

    @*Dit staat nog verkeerd moet alleen toen met wie er een chat is*@
    @foreach (var item in Model)
    {
        <div class="btn btn-default">
            @Html.ActionLink(item.Email, "Chat", new { index = item.Index })
        </div>
        <p></p>
    }
</section>

    <section class="Chat">
        @*@RenderPage("~/Views/Chat/Chat.cshtml", Whatsup.Models.ChatViewModel)*@
        @*@{Html.RenderPartial("Chat", Model);}*@
    </section>

}

else
{
    <div class="jumbotron">
        <h1>WhatsUp</h1>
        <p class="lead">WhatsUp is an online chat service. You can add your friends or talk in groupchats.</p>
        <p><a href="@Url.Action("Register", "User")" class="btn btn-primary btn-lg">Sign up &raquo;</a></p>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
